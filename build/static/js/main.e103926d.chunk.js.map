{"version":3,"sources":["components/PersonForm.jsx","components/PersonList.jsx","components/Filter.jsx","components/Notification.jsx","services/persons.jsx","App.js","index.js"],"names":["PersonForm","onSubmit","nameInputHandler","numInputHandler","newName","newNumber","onChange","value","type","PersonList","persons","filter","onDelete","p","name","toLowerCase","includes","map","fp","number","onClick","id","Filter","handleFilterInput","newFilter","Notification","message","className","baseUrl","axios","get","then","res","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","errorMsg","setErrorMsg","useEffect","dataService","showErrorMsg","setTimeout","updatePerson","personObject","copy","catch","err","event","target","preventDefault","exists","window","confirm","returnedPerson","concat","updatedList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e103926d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({onSubmit, nameInputHandler, numInputHandler, newName, newNumber}) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={onSubmit}>\r\n                <div>Name: <input onChange={nameInputHandler} value={newName} /></div>\r\n                <div>Number: <input onChange={numInputHandler} value={newNumber}/></div>\r\n                <div><button type=\"submit\">add</button></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst PersonList = ({persons, filter, onDelete}) => {\r\n\r\n\r\n     return ( \r\n        <div>\r\n            <h2>Numbers</h2>\r\n            <ul>\r\n                {persons.filter(p => p.name.toLowerCase().includes(filter.toLowerCase()))\r\n                .map(fp => <li key={fp.id}>{fp.name} {fp.number}<button onClick={() => onDelete(fp.id)}>Delete</button></li>)}\r\n            </ul>\r\n        </div>\r\n    )\r\n} \r\n\r\n\r\nexport default PersonList\r\n","import React from 'react'\r\n\r\nconst Filter = ({handleFilterInput, newFilter}) => {\r\n    return (\r\n        <div>\r\n            <p>Filter shown with <input onChange={handleFilterInput} value={newFilter}></input></p>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className='errorMsg'>\r\n            <p>{message}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = 'https://sheltered-gorge-91063.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n    const req = axios.get(baseUrl)\r\n\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const req = axios.post(baseUrl, newObject)\r\n\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const req = axios.put(`${baseUrl}/${id}`, newObject)\r\n\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst del = id => {\r\n    const req = axios.delete(`${baseUrl}/${id}`)\r\n\r\n    return req.then(res => res.data)\r\n}\r\n\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    del\r\n}","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nimport PersonForm from './components/PersonForm'\nimport PersonList from './components/PersonList'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport dataService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ errorMsg, setErrorMsg ] = useState(null)\n\n  useEffect(() => {\n    dataService\n      .getAll()\n      .then(res => {\n        setPersons(res)\n      })\n  }, [])\n\n  const handleNameInput = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumInput = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterInput = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const showErrorMsg = message => {\n    setErrorMsg(message)\n    setTimeout(() => { setErrorMsg(null)}, 2000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    let exists = false\n    persons.map(p => {\n      if (p.name == newName) {\n        if (window.confirm(`${newName} is already added to the phonebook, want to update the number?`)) {\n          updatePerson(personObject)\n        }\n        exists = true\n      }\n    })\n\n    if (!exists) {\n      \n      dataService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n        })\n        showErrorMsg(`${newName} added to the phonebook`)\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const updatePerson = personObject => {\n    dataService\n      .update(persons.filter(p => p.name === personObject.name).map(fp => fp.id), personObject)\n      .then(res => {\n\n        const copy = [...persons]\n        copy.filter(p => p.name == personObject.name).map(fp => fp.number = personObject.number)\n\n        setPersons(copy)\n        showErrorMsg(`Number updated for ${newName}`)\n      })\n      .catch(err => {\n        showErrorMsg('Number has already been deleted from the server')\n      })\n      \n  }\n\n  const deletePerson = (id) => {\n    const name = persons.filter(p => p.id == id).map(fp => fp.name)\n    \n    if( window.confirm(`Are you sure you want to delete ${persons.filter(p => p.id == id).map(fp => fp.name)} ?`)){\n      dataService\n        .del(id)\n        .then(res => {\n          const updatedList = persons.filter(p => p.id !== id)\n          setPersons(updatedList)\n        })\n\n        showErrorMsg(`${name} deleted from the phonebook`)\n    }\n      \n\n  }\n\n  return (\n    <div>\n      <Notification message={errorMsg} />\n      <h2>Phonebook</h2>\n      <Filter handleFilterInput={handleFilterInput} newFilter={newFilter}/>\n      <h2>Add a new</h2>\n      <PersonForm\n        onSubmit={addPerson}\n        nameInputHandler={handleNameInput}\n        numInputHandler={handleNumInput}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <PersonList persons={persons} filter={newFilter} onDelete={deletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}