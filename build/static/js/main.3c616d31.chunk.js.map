{"version":3,"sources":["components/PersonForm.jsx","components/PersonList.jsx","components/Filter.jsx","components/Notification.jsx","services/persons.jsx","App.js","index.js"],"names":["PersonForm","onSubmit","nameInputHandler","numInputHandler","newName","newNumber","onChange","value","type","PersonList","persons","filter","onDelete","p","name","toLowerCase","includes","map","fp","number","onClick","id","Filter","handleFilterInput","newFilter","Notification","message","color","className","style","baseUrl","axios","get","then","res","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","notificationMsg","setNotificationMsg","notificationColor","setNotificationColor","useEffect","dataService","showNotificationMsg","setTimeout","updatePerson","personObject","copy","catch","err","response","event","target","preventDefault","exists","window","confirm","returnedPerson","concat","error","console","log","text","updatedList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3c616d31.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({onSubmit, nameInputHandler, numInputHandler, newName, newNumber}) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={onSubmit}>\r\n                <div>Name: <input onChange={nameInputHandler} value={newName} /></div>\r\n                <div>Number: <input onChange={numInputHandler} value={newNumber}/></div>\r\n                <div><button type=\"submit\">add</button></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst PersonList = ({persons, filter, onDelete}) => {\r\n\r\n\r\n     return ( \r\n        <div>\r\n            <h2>Numbers</h2>\r\n            <ul>\r\n                {persons.filter(p => p.name.toLowerCase().includes(filter.toLowerCase()))\r\n                .map(fp => <li key={fp.id}>{fp.name} {fp.number}<button onClick={() => onDelete(fp.id)}>Delete</button></li>)}\r\n            </ul>\r\n        </div>\r\n    )\r\n} \r\n\r\n\r\nexport default PersonList\r\n","import React from 'react'\r\n\r\nconst Filter = ({handleFilterInput, newFilter}) => {\r\n    return (\r\n        <div>\r\n            <p>Filter shown with <input onChange={handleFilterInput} value={newFilter}></input></p>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({message,color}) => {\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className='notificationMsg' style={{color: color}}>\r\n            <p>{message}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n    const req = axios.get(baseUrl)\r\n\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const req = axios.post(baseUrl, newObject)\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const req = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst del = id => {\r\n    const req = axios.delete(`${baseUrl}/${id}`)\r\n\r\n    return req.then(res => res.data)\r\n}\r\n\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    del\r\n}","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport PersonList from './components/PersonList'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport dataService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ notificationMsg, setNotificationMsg ] = useState(null)\n  const [ notificationColor, setNotificationColor ] = useState(null)\n\n  useEffect(() => {\n    dataService\n      .getAll()\n      .then(res => {\n        setPersons(res)\n      })\n  }, [])\n\n  const handleNameInput = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumInput = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterInput = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const showNotificationMsg = (message, color) => {\n    setNotificationColor(color)\n    setNotificationMsg(message)\n    setTimeout(() => { setNotificationMsg(null)}, 2000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    let exists = false\n    persons.map(p => {\n      if (p.name == newName) {\n        if (window.confirm(`${newName} is already added to the phonebook, want to update the number?`)) {\n          updatePerson(personObject)\n        }\n        exists = true\n      }\n    })\n\n    if (!exists) {\n      \n      dataService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          showNotificationMsg(`${newName} added to the phonebook`, \"green\")\n        })\n        .catch(error => {\n          console.log(error.response.text)\n          showNotificationMsg(error.response.data.error, \"red\")\n        })\n        \n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const updatePerson = personObject => {\n    dataService\n      .update(persons.filter(p => p.name === personObject.name).map(fp => fp.id), personObject)\n      .then(res => {\n        const copy = [...persons]\n        copy.filter(p => p.name == personObject.name).map(fp => fp.number = personObject.number)\n\n        setPersons(copy)\n        showNotificationMsg(`Number updated for ${newName}`, \"green\")\n      })\n      .catch(err => {\n        showNotificationMsg(err.response.data, \"red\")\n      })\n      \n  }\n\n  const deletePerson = (id) => {\n    const name = persons.filter(p => p.id == id).map(fp => fp.name)\n    \n    if( window.confirm(`Are you sure you want to delete ${persons.filter(p => p.id == id).map(fp => fp.name)} ?`)){\n      dataService\n        .del(id)\n        .then(res => {\n          const updatedList = persons.filter(p => p.id !== id)\n          setPersons(updatedList)\n        })\n\n        showNotificationMsg(`${name} deleted from the phonebook`, \"green\")\n    }\n      \n\n  }\n\n  return (\n    <div>\n      <Notification message={notificationMsg} color={notificationColor}/>\n      <h2>Phonebook</h2>\n      <Filter handleFilterInput={handleFilterInput} newFilter={newFilter}/>\n      <h2>Add new number</h2>\n      <PersonForm\n        onSubmit={addPerson}\n        nameInputHandler={handleNameInput}\n        numInputHandler={handleNumInput}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <PersonList persons={persons} filter={newFilter} onDelete={deletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}